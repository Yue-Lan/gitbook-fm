# 怎样扩展

## 基于现有架构

以上述菜单插件为例，我们需要实现PeonyModule的定义3个方法（list\_pytypes不用），同时我们也需要实现菜单扩展PeonyMenuProvider的get\_file\_items接口。

我们可以参考现有的peony-extensions源码，这并不是很难的流程，关键在于获取回调的数据后我们该怎么做。

## 从架构上扩展

我们既然已经知道插件的加载注册以及回调的原理，完全可以自己定义一个新的插件接口。

举一个例子而言，我们完全可以在打开文件的时候增加一个插件回调的接口，然后编写一个对应的插件安装到系统中，每次打开文件的时候就能够获取文件的信息，并且做一些处理。和一般插件一样如果我们不再需要这个功能，删掉对应的so库或者在插件管理选项中禁用就可以了。

